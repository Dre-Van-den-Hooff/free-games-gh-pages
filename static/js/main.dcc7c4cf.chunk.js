(this["webpackJsonpweb-dev-project"]=this["webpackJsonpweb-dev-project"]||[]).push([[0],{152:function(e,t,a){},153:function(e,t,a){},179:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a.n(r),n=a(50),s=a.n(n),i=a(215),o=a(211),l=(a(152),a(153),a(18)),u=a(7),j=a.n(u),d=a(10),b=a(6),O=a(142),h=a(213),m=a(195),x=a(196),p=a(197),f=a(198),g=a(76),v=a(199),w=a(200),k=a(201),y=a(202),C=a(138),S=a(24),N=a(216),_=a(193),F=a(56),R=a(68),q=a(2);function M(e){var t=e.background,a=Object(O.c)(),r=a.colorMode,c=a.toggleColorMode;return Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(N.a,{label:"change theme",children:Object(q.jsx)(_.a,{"aria-label":"change colormode",icon:"light"===r?Object(q.jsx)(R.b,{}):Object(q.jsx)(F.d,{}),onClick:c,background:t})})})}var P=a(57),E=a(21),T=a(128),A=a.n(T),I=a(99),G=A.a.create({baseURL:"https://hogent-webdev-project.herokuapp.com/api/"}),D=function(){var e=Object(d.a)(j.a.mark((function e(t){var a,r,c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,r=t.password,e.next=3,G.post("user/login",{email:a,password:r});case 3:return c=e.sent,n=c.data,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(j.a.mark((function e(t){var a,r,c,n,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,r=t.email,c=t.password,e.next=3,G.post("user/register",{username:a,email:r,password:c});case 3:return n=e.sent,s=n.data,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(d.a)(j.a.mark((function e(t){var a,r,c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,r=t.username,e.next=3,G.put("user/update",{email:a,username:r});case 3:return c=e.sent,n=c.data,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=Object(r.createContext)(),U=I.token_key,H=function(){return Object(r.useContext)(B)},J=function(){var e=H(),t=e.token;return{token:t,user:e.user,ready:e.ready,isAuthed:Boolean(t)}};function W(e){var t=e.children,a=Object(r.useState)(localStorage.getItem(U)),c=Object(b.a)(a,2),n=c[0],s=c[1],i=Object(r.useState)(null),o=Object(b.a)(i,2),l=o[0],u=o[1],O=Object(r.useState)(!1),h=Object(b.a)(O,2),m=h[0],x=h[1],p=Object(r.useCallback)(function(){var e=Object(d.a)(j.a.mark((function e(t,a){var r,c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(t,a);case 3:if(r=e.sent,c=r.token,n=r.user,s(c),u(n),n&&(localStorage.setItem("username",n.username),localStorage.setItem("email",n.email)),!n){e.next=11;break}return e.abrupt("return",!0);case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,a){return e.apply(this,arguments)}}(),[]),f=Object(r.useCallback)((function(){s(null),u(null)}),[]);Object(r.useEffect)((function(){x(Boolean(n)),function(e){e?G.defaults.headers.Authorization="Bearer ".concat(e):delete G.defaults.headers.Authorization}(n),n?localStorage.setItem(U,n):localStorage.removeItem(U)}),[n,l]);var g=Object(r.useMemo)((function(){return{token:n,user:l,ready:m,login:p,logout:f}}),[n,l,p,f,m]);return Object(q.jsx)(B.Provider,{value:g,children:t})}function Y(){var e=Object(O.d)("gray.100","gray.700"),t=Object(O.d)("gray.200","gray.600"),a=Object(r.useState)(!0),c=Object(b.a)(a,2),n=c[0],s=c[1],i=Object(r.useState)(""),o=Object(b.a)(i,2),u=o[0],N=o[1],_=Object(r.useState)(""),F=Object(b.a)(_,2),R=F[0],T=F[1],A=Object(P.a)(),I=A.register,G=A.handleSubmit,D=A.formState.errors,L=Object(E.g)(),z=H().login,B=Object(h.a)(),U=Object(r.useCallback)(function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t);case 2:e.sent?(B({title:"Success",description:"login success",status:"success",duration:3e3,isClosable:!0}),L.replace("/home")):B({title:"Login failed",description:"Password or email is incorrect",status:"error",duration:4e3,isClosable:!0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[L,z,B]),J=Object(r.useCallback)((function(e,t){"email"===t&&N(e),"password"===t&&T(e),u&&R&&s(!1)}),[u,R]);return Object(r.useEffect)((function(){u&&R||s(!0)}),[s,R,u]),Object(q.jsx)(m.a,{initialScale:.9,in:!0,children:Object(q.jsx)(x.a,{height:"100vh",align:"center",justify:"center",children:Object(q.jsxs)(x.a,{className:"login",background:e,children:[Object(q.jsx)(p.a,{className:"toggles",children:Object(q.jsx)(M,{background:t})}),Object(q.jsx)(f.a,{className:"heading",children:"Log in"}),Object(q.jsxs)(g.a,{id:"email",isRequired:!0,children:[Object(q.jsx)(v.a,{htmlFor:"email",children:"Email address"}),Object(q.jsx)(w.a,Object(l.a)(Object(l.a)({"data-cy":"email_input",className:"input input-email",placeholder:"example@email.com",variant:"filled",type:"email",background:t},I("email",{required:"email is required"})),{},{onChange:function(e){return J(e.target.value,"email")}})),D.email&&Object(q.jsx)(k.a,{mb:2,textColor:"red",children:D.email.message})]}),Object(q.jsxs)(g.a,{id:"password",isRequired:!0,children:[Object(q.jsx)(v.a,{htmlFor:"password",children:"Password"}),Object(q.jsx)(w.a,Object(l.a)(Object(l.a)({"data-cy":"password_input",className:"input input-password",placeholder:"Password",variant:"filled",type:"password",background:t},I("password",{required:"password is required"})),{},{onChange:function(e){return J(e.target.value,"password")}})),D.password&&Object(q.jsx)(k.a,{mb:2,textColor:"red",children:D.password.message})]}),Object(q.jsx)(y.a,{as:S.b,to:"/signup",colorScheme:"teal",mb:3,align:"center",_hover:{textDecoration:"none",color:"teal.500"},children:"No account? Sign up here!"}),Object(q.jsx)(C.a,{"data-cy":"login_button",mb:"1em",colorScheme:"teal",isDisabled:n,width:"100%",onClick:G(U),children:"Log in"})]})})})}var Z=a(132);function K(){var e=Object(O.d)("gray.100","gray.700"),t=Object(O.d)("gray.200","gray.600"),a=Object(r.useState)(!0),c=Object(b.a)(a,2),n=c[0],s=c[1],i=Object(r.useState)(""),o=Object(b.a)(i,2),u=o[0],F=o[1],R=Object(r.useState)(""),T=Object(b.a)(R,2),A=T[0],I=T[1],G=Object(r.useState)(""),D=Object(b.a)(G,2),z=D[0],B=D[1],U=Object(r.useState)(""),H=Object(b.a)(U,2),J=H[0],W=H[1],Y=Object(E.g)(),K=Object(P.a)(),Q=K.register,V=K.handleSubmit,X=K.formState.errors,$=Object(h.a)(),ee=Object(r.useCallback)(function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.password!==t.confirmpassword){e.next=7;break}return e.next=3,L(t);case 3:e.sent?($({title:"Success",description:"Successfully registered",status:"success",duration:5e3,isClosable:!0}),Y.replace("/")):$({title:"Register failed",description:"Email already registered",status:"error",duration:5e3,isClosable:!0}),e.next=8;break;case 7:$({title:"Register failed",description:"Password does not match confirmed password",status:"error",duration:5e3,isClosable:!0});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[$,Y]),te=Object(r.useCallback)((function(e,t){"email"===t&&F(e),"password"===t&&B(e),"confirmPassword"===t&&W(e),"username"===t&&I(e),u&&z&&J&&A&&s(!1)}),[J,z,A,u]);return Object(r.useEffect)((function(){u&&z&&J&&A||s(!0)}),[s,z,u,J,A]),Object(q.jsx)(m.a,{initialScale:.9,in:!0,children:Object(q.jsx)(x.a,{height:"100vh",align:"center",justify:"center",children:Object(q.jsxs)(x.a,{className:"login",background:e,children:[Object(q.jsxs)(p.a,{className:"toggles",children:[Object(q.jsx)(N.a,{label:"back",children:Object(q.jsx)(p.a,{className:"back",children:Object(q.jsx)(y.a,{as:S.b,to:"/",children:Object(q.jsx)(_.a,{icon:Object(q.jsx)(Z.a,{}),background:t})})})}),Object(q.jsx)(p.a,{className:"theme",children:Object(q.jsx)(M,{background:t})})]}),Object(q.jsx)(f.a,{className:"heading",children:"Sign Up"}),Object(q.jsxs)(g.a,{id:"username",isRequired:!0,children:[Object(q.jsx)(v.a,{htmlFor:"username",children:"Username"}),Object(q.jsx)(w.a,Object(l.a)(Object(l.a)({className:"input",placeholder:"username",variant:"filled",type:"text",background:t},Q("username",{required:"Username is required"})),{},{onChange:function(e){return te(e.target.value,"username")}})),X.username&&Object(q.jsx)(k.a,{mb:2,textColor:"red",children:X.username.message})]}),Object(q.jsxs)(g.a,{id:"email",isRequired:!0,children:[Object(q.jsx)(v.a,{htmlFor:"email",children:"Email address"}),Object(q.jsx)(w.a,Object(l.a)(Object(l.a)({className:"input",placeholder:"example@email.com",variant:"filled",type:"email",background:t},Q("email",{required:"Email is required"})),{},{onChange:function(e){return te(e.target.value,"email")}})),X.email&&Object(q.jsx)(k.a,{mb:2,textColor:"red",children:X.email.message})]}),Object(q.jsxs)(g.a,{id:"password",isRequired:!0,children:[Object(q.jsx)(v.a,{htmlFor:"password",children:"Password"}),Object(q.jsx)(w.a,Object(l.a)(Object(l.a)({className:"input",placeholder:"Password",variant:"filled",type:"password",background:t},Q("password",{minLength:{value:8,message:"Password must be at least 8 characters"}})),{},{onChange:function(e){return te(e.target.value,"password")}})),X.password&&Object(q.jsx)(k.a,{mb:2,textColor:"red",children:X.password.message})]}),Object(q.jsxs)(g.a,{id:"confirmpassword",isRequired:!0,children:[Object(q.jsx)(v.a,{htmlFor:"password",children:"Confirm password"}),Object(q.jsx)(w.a,Object(l.a)(Object(l.a)({className:"input",placeholder:"Confirm password",variant:"filled",type:"password",background:t},Q("confirmpassword",{required:"confirm password is required"})),{},{onChange:function(e){return te(e.target.value,"confirmPassword")}})),X.confirmpassword&&Object(q.jsx)(k.a,{mb:2,textColor:"red",children:X.confirmpassword.message})]}),Object(q.jsx)(C.a,{className:"login-button",colorScheme:"teal",isDisabled:n,onClick:V(ee),children:"Sign up"})]})})})}var Q=a(217),V=a(203),X=a(218),$=a(133),ee=a(214);function te(){var e=H().logout,t=Object(E.g)(),a=Object(r.useCallback)((function(){e(),t.replace("/")}),[e,t]);return Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(p.a,{display:"flex",alignItems:"center",ml:"auto",children:Object(q.jsxs)(ee.a,{children:[Object(q.jsx)(ee.g,{children:Object(q.jsx)(C.a,{leftIcon:Object(q.jsx)(R.c,{}),children:"Settings"})}),Object(q.jsxs)(ee.e,{mr:5,children:[Object(q.jsx)(ee.b,{}),Object(q.jsx)(ee.d,{}),Object(q.jsx)(ee.f,{children:"Settings"}),Object(q.jsx)(ee.c,{children:Object(q.jsxs)(p.a,{children:[Object(q.jsx)(M,{}),Object(q.jsx)(N.a,{label:"log out",children:Object(q.jsx)(_.a,{icon:Object(q.jsx)(F.a,{}),ml:2,onClick:a})})]})})]})]})})})}function ae(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}function re(){var e=Object(O.d)("gray.200","gray.700"),t=Object(r.useState)(!0),a=Object(b.a)(t,2),c=a[0],n=a[1],s=Object(Q.a)(),i=s.isOpen,o=s.onToggle;(function(){var e=Object(r.useState)(ae()),t=Object(b.a)(e,2),a=t[0],c=t[1];return Object(r.useEffect)((function(){function e(){c(ae())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a})().width>600&&(i=!0);return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(p.a,{className:"hamburger-menu",children:Object(q.jsx)(_.a,{className:"hamburger-menu-icon",icon:c?Object(q.jsx)(R.a,{}):Object(q.jsx)($.a,{}),onClick:function(){o(),n(!c)},background:e})}),Object(q.jsx)(V.a,{in:i,animateOpacity:!0,children:Object(q.jsx)(p.a,{className:"nav-container",background:e,children:Object(q.jsxs)(X.b,{children:[Object(q.jsx)(X.a,{children:Object(q.jsx)(y.a,{as:S.b,to:"/home",children:"Home"})}),Object(q.jsx)(X.a,{"data-cy":"to_favourites",children:Object(q.jsx)(y.a,{as:S.b,to:"/favourites",children:"Favourites"})}),Object(q.jsx)(X.a,{"data-cy":"to_account",children:Object(q.jsx)(y.a,{as:S.b,to:"/account",children:"Account"})}),Object(q.jsx)(X.a,{children:Object(q.jsx)(y.a,{as:S.b,to:"/addgame",children:"Add game"})}),Object(q.jsx)(te,{})]})})})]})}var ce=a(204),ne=a(134),se=function(){var e=Object(d.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.get("favourites");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.delete("favourites/".concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.post("favourites",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function le(e){var t=e.title,a=e.thumbnail,c=e.genre,n=e.releaseDate,s=e.developer,i=Object(O.d)("teal.300","teal.600"),o=Object(h.a)(),l=J().isAuthed,u=localStorage.getItem("username"),b=Object(r.useCallback)(Object(d.a)(j.a.mark((function e(){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={title:t,thumbnail:a,genre:c,release_date:n,developer:s,username:u},e.prev=1,e.next=4,oe(r);case 4:o({title:"Game added to favourites",description:"The game was succesfully added to favourites.",status:"success",duration:3e3,isClosable:!0}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0),o({title:"Game was not added to favourites",description:"There was an error adding the game to favourites.",status:"error",duration:3e3,isClosable:!0});case 11:case"end":return e.stop()}}),e,null,[[1,7]])}))),[t,a,c,n,s,o,u]);return Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(p.a,{className:"cards-wrapper",children:Object(q.jsxs)(p.a,{className:"cards",background:i,children:[Object(q.jsxs)(p.a,{className:"cards-info",children:[Object(q.jsx)(ce.a,{src:a}),Object(q.jsxs)(p.a,{className:"info-container",children:[Object(q.jsxs)(k.a,{"data-cy":"game_title",children:[" Title: ",t," "]}),Object(q.jsxs)(k.a,{"data-cy":"game_genre",children:[" Genre: ",c," "]}),Object(q.jsxs)(k.a,{"data-cy":"game_date",children:[" Release date: ",n," "]}),Object(q.jsxs)(k.a,{"data-cy":"game_developer",children:[" Developer: ",s," "]})]})]}),l&&Object(q.jsx)(p.a,{className:"wishlist-button",children:Object(q.jsx)(N.a,{label:"add to favourites",children:Object(q.jsx)(_.a,{"data-cy":"add_to_favourites_button",icon:Object(q.jsx)(ne.a,{}),onClick:b})})})]})})})}var ue=a(12),je=function(){var e=Object(d.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.get("games");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.post("games",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(d.a)(j.a.mark((function e(t){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.get("games/query/".concat(t));case 2:return a=e.sent,r=a.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=Object(r.createContext)(),he=Object(r.createContext)(),me=function(){return Object(r.useContext)(Oe)},xe=function(){return Object(r.useContext)(he)};function pe(e){var t=e.children,a=Object(r.useState)([]),c=Object(b.a)(a,2),n=c[0],s=c[1],i=Object(h.a)(),o=Object(r.useCallback)((function(e){s(Object(ue.a)(e))}),[]),l=Object(r.useCallback)(Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je();case 3:t=e.sent,s(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),i({title:"Error",description:"Error fetching list of games",status:"error",duration:5e3,isClosable:!0});case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[i]);Object(r.useEffect)((function(){l()}),[l]);var u=Object(r.useMemo)((function(){return n}),[n]);return Object(q.jsx)(Oe.Provider,{value:u,children:Object(q.jsx)(he.Provider,{value:o,children:t})})}var fe=a(205);function ge(){var e=Object(Q.a)(),t=e.isOpen,a=e.onToggle,c=Object(O.d)("teal.300","teal.600"),n=me(),s=xe(),i=Object(r.useCallback)((function(){var e=n.sort((function(e,t){return e.title.localeCompare(t.title)}));s(e)}),[n,s]),o=Object(r.useCallback)((function(){var e=n.sort((function(e,t){return t.title.localeCompare(e.title)}));s(e)}),[n,s]),l=Object(r.useCallback)((function(){var e=n.sort((function(e,t){return e.genre.localeCompare(t.genre)}));s(e)}),[n,s]),u=Object(r.useCallback)((function(){var e=n.sort((function(e,t){return e.developer.localeCompare(t.developer)}));s(e)}),[n,s]),j=Object(r.useCallback)((function(){var e=n.sort((function(e,t){return e.release_date.localeCompare(t.release_date)}));s(e)}),[n,s]),d=Object(r.useCallback)((function(){var e=n.sort((function(e,t){return t.release_date.localeCompare(e.release_date)}));s(e)}),[n,s]);return Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(p.a,{mb:5,children:[Object(q.jsx)(C.a,{onClick:a,rightIcon:Object(q.jsx)(F.c,{}),variant:"solid",colorScheme:"teal",ml:5,children:"Sort by"}),Object(q.jsx)(V.a,{in:t,animateOpacity:!0,children:Object(q.jsxs)(p.a,{className:"filter-box",background:c,children:[Object(q.jsx)(k.a,{children:Object(q.jsx)(y.a,{onClick:i,children:"Title A-Z"})}),Object(q.jsx)(fe.a,{}),Object(q.jsx)(k.a,{children:Object(q.jsx)(y.a,{onClick:o,children:"Title Z-A"})}),Object(q.jsx)(fe.a,{}),Object(q.jsx)(k.a,{children:Object(q.jsx)(y.a,{onClick:l,children:"Genre"})}),Object(q.jsx)(fe.a,{}),Object(q.jsx)(k.a,{children:Object(q.jsx)(y.a,{onClick:u,children:"Developer"})}),Object(q.jsx)(fe.a,{}),Object(q.jsx)(k.a,{children:Object(q.jsx)(y.a,{onClick:j,children:"Release date Oldest"})}),Object(q.jsx)(fe.a,{}),Object(q.jsx)(k.a,{children:Object(q.jsx)(y.a,{onClick:d,children:"Release date Newest"})})]})})]})})}function ve(){var e=Object(O.d)("gray.200","teal.800"),t=Object(r.useState)(!1),a=Object(b.a)(t,2),c=a[0],n=a[1],s=Object(r.useState)(""),i=Object(b.a)(s,2),o=i[0],l=i[1],u=xe(),h=Object(r.useCallback)((function(){n(!c)}),[c]),x=function(){var e=Object(d.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(t),e.prev=1,e.next=4,be(o);case 4:a=e.sent,u(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(p.a,{mb:5,children:c?Object(q.jsx)(m.a,{initialScale:.9,in:!0,children:Object(q.jsx)(p.a,{mr:5,className:"search-input",children:Object(q.jsx)(w.a,{type:"text",variant:"outline",placeholder:"Search",background:e,onChange:function(e){return x(e.target.value)}})})}):Object(q.jsx)(C.a,{onClick:h,rightIcon:Object(q.jsx)(F.b,{}),variant:"solid",colorScheme:"teal",mr:5,children:"Search"})})})}function we(){var e=me();return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(re,{}),Object(q.jsx)(f.a,{ml:5,mb:5,children:"Home"}),Object(q.jsxs)(x.a,{justify:"space-between",children:[Object(q.jsx)(ge,{}),Object(q.jsx)(ve,{})]}),Object(q.jsx)(m.a,{initialScale:.9,in:!0,children:Object(q.jsx)(p.a,{textAlign:"center",children:e.map((function(e){return Object(q.jsx)(le,{title:e.title,thumbnail:e.thumbnail,genre:e.genre,releaseDate:e.release_date,developer:e.developer},e.id)}))})})]})}var ke=a(135);function ye(){var e=Object(O.d)("teal.300","teal.600"),t=Object(r.useState)([]),a=Object(b.a)(t,2),c=a[0],n=a[1],s=Object(h.a)(),i=Object(r.useCallback)(Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se();case 3:t=e.sent,n(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),s({title:"Error",description:"Error while fetching favourites.",status:"error",duration:5e3,isClosable:!0});case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[s]),o=Object(r.useCallback)(function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie(t);case 3:i(),s({title:"Game removed from favourites",description:"The game was succesfully removed from the list.",status:"success",duration:3e3,isClosable:!0}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),s({title:"Game not removed",description:"The game was not removed from favourites list.",status:"error",duration:5e3,isClosable:!0});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[s,i]);return Object(r.useEffect)((function(){i()}),[i]),Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(re,{}),Object(q.jsx)(f.a,{ml:5,children:"Favourites"}),0===c.length&&Object(q.jsx)(x.a,{justify:"center",align:"center",height:"60vh",children:Object(q.jsxs)(k.a,{fontSize:"4xl",children:["The Favorites list is empty..."," ",Object(q.jsx)(y.a,{as:S.b,to:"/home",_hover:{textDecoration:"none",color:"teal.500"},children:"Add some games!"})]})}),Object(q.jsx)(m.a,{initialScale:.9,in:!0,children:c.map((function(t){return Object(q.jsx)(x.a,{className:"wishlist-container",children:Object(q.jsxs)(p.a,{className:"wishlist-items",background:e,children:[Object(q.jsxs)(x.a,{className:"wishlist-info",children:[Object(q.jsx)(ce.a,{src:t.thumbnail}),Object(q.jsxs)(p.a,{className:"info-container",children:[Object(q.jsx)(k.a,{"data-cy":"favourites_title",className:"info title",children:t.title}),Object(q.jsxs)(k.a,{className:"info",children:[" Genre: ",t.genre," "]}),Object(q.jsxs)(k.a,{className:"info",children:[" Release date: ",t.release_date," "]}),Object(q.jsxs)(k.a,{className:"info",children:[" Developer: ",t.developer," "]}),Object(q.jsxs)(k.a,{className:"info",children:[" Added by: ",t.username," "]})]})]}),Object(q.jsx)(p.a,{className:"delete-item",children:localStorage.getItem("username")===t.username&&Object(q.jsx)(N.a,{label:"remove from favourites",children:Object(q.jsx)(_.a,{"data-cy":"favourites_remove_button",icon:Object(q.jsx)(ke.a,{}),onClick:function(){return o(t.id)}})})})]})},t.id)}))})]})}var Ce=a(206),Se=a(207);function Ne(){var e=localStorage.getItem("username"),t=localStorage.getItem("email"),a=Object(O.d)("teal.300","teal.600"),c=Object(O.d)("teal.400","teal.700"),n=Object(O.d)("gray.200","teal.800"),s=Object(Q.a)(),i=s.isOpen,o=s.onToggle,u=Object(r.useState)(e),g=Object(b.a)(u,2),v=g[0],y=g[1],S=Object(r.useState)(!1),N=Object(b.a)(S,2),_=N[0],F=N[1],R=Object(h.a)(),M=Object(P.a)(),E=M.register,T=M.handleSubmit,A=Object(r.useCallback)((function(){o()}),[o]),I=Object(r.useCallback)(function(){var e=Object(d.a)(j.a.mark((function e(a){var r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),a.email=t,e.next=4,z(a);case 4:r=e.sent,(c=r.username)?setTimeout((function(){y(c),R({title:"Success",description:"Updated username successfully",status:"success",duration:5e3,isClosable:!0}),F(!1),localStorage.setItem("username",c)}),2e3):(R({title:"Error",description:"Error trying to update username",status:"error",duration:5e3,isClosable:!0}),F(!1));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[R,t]);return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(re,{}),Object(q.jsx)(f.a,{as:"h1",ml:5,mb:5,children:"Account"}),Object(q.jsx)(m.a,{initialScale:.9,in:!0,children:Object(q.jsx)(x.a,{className:"account-container",justify:"center",children:Object(q.jsxs)(x.a,{className:"account-wrapper",bg:a,borderRadius:"12px",w:"60%",h:"450px",direction:"column",children:[Object(q.jsx)(p.a,{mr:"auto",ml:"auto",mt:5,children:Object(q.jsxs)(f.a,{"data-cy":"welcome_heading",as:"h2",size:"lg",children:["Welcome ",v]})}),Object(q.jsxs)(p.a,{ml:5,children:[Object(q.jsx)(Ce.a,{name:v,bg:c,size:"lg",mb:4}),Object(q.jsx)(f.a,{as:"h3",size:"md",children:"Your information:"}),Object(q.jsxs)(p.a,{mb:5,children:[Object(q.jsxs)(k.a,{children:["Username: ",v]}),Object(q.jsxs)(k.a,{children:["Connected email address: ",t]})]}),Object(q.jsx)(C.a,{"data-cy":"change_button",colorScheme:"teal",onClick:A,children:"Change username"}),Object(q.jsx)(Se.a,{in:i,offsetY:"20px",children:Object(q.jsxs)(x.a,{direction:"column",children:[Object(q.jsx)(w.a,Object(l.a)({className:"account-input","data-cy":"username_input",mt:5,mb:5,w:"40%",type:"text",placeholder:"enter new username",bg:n},E("username"))),Object(q.jsx)(C.a,{className:"account-button","data-cy":"confirm_button",w:"20%",colorScheme:"teal",isLoading:_,onClick:T(I),children:"Confirm"})]})})]})]})})})]})}var _e=a(208);function Fe(){var e=Object(O.d)("teal.200","gray.700"),t=Object(O.d)("gray.200","gray.600"),a=Object(r.useState)(!1),c=Object(b.a)(a,2),n=c[0],s=c[1],i=Object(P.a)(),o=i.register,u=i.handleSubmit,p=i.formState.errors,y=Object(h.a)(),S=Object(r.useCallback)(function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.thumbnail="",s(!0),e.prev=2,e.next=5,de(t);case 5:setTimeout((function(){y({title:"Game added",description:"The game was succesfully added to our database.",status:"success",duration:5e3,isClosable:!0}),s(!1)}),2e3),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0),y({title:"Submission failed",description:"Make sure all required fields are filled in.",status:"error",duration:5e3,isClosable:!0}),s(!1);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[y]);return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(re,{}),Object(q.jsx)(f.a,{ml:5,mb:5,children:"Add game to database"}),Object(q.jsx)(m.a,{initialScale:.9,in:!0,children:Object(q.jsx)(x.a,{className:"form-wrapper",justifyContent:"center",alignItems:"center",children:Object(q.jsx)(x.a,{className:"form",w:"50%",background:e,borderRadius:"12px",p:"1em",children:Object(q.jsxs)(g.a,{as:"fieldset",children:[Object(q.jsxs)(g.a,{id:"title",isRequired:!0,children:[Object(q.jsx)(v.a,{htmlFor:"title",children:"Title"}),Object(q.jsx)(w.a,Object(l.a)({"data-cy":"title_input",className:"input",type:"text",variant:"filled",placeholder:"title",background:t},o("title",{required:"Title is required"}))),p.title&&Object(q.jsx)(k.a,{mb:2,textColor:"red",children:p.title.message})]}),Object(q.jsxs)(g.a,{id:"title",children:[Object(q.jsx)(v.a,{htmlFor:"genre",children:"Genre"}),Object(q.jsxs)(_e.a,Object(l.a)(Object(l.a)({"data-cy":"genre_input",placeholder:"select genre",mb:"1em",background:t},o("genre")),{},{children:[Object(q.jsx)("option",{value:"MMORPG",children:"MMORPG"}),Object(q.jsx)("option",{value:"MMO",children:"MMO"}),Object(q.jsx)("option",{value:"Shooter",children:"Shooter"}),Object(q.jsx)("option",{value:"Survival game",children:"Survival"}),Object(q.jsx)("option",{value:"Card Game",children:"Card game"}),Object(q.jsx)("option",{value:"Social",children:"Social"}),Object(q.jsx)("option",{value:"MOBA",children:"MOBA"}),Object(q.jsx)("option",{value:"Strategy",children:"Strategy"}),Object(q.jsx)("option",{value:"Fighting",children:"Fighting"}),Object(q.jsx)("option",{value:"Racing",children:"Racing"}),Object(q.jsx)("option",{value:"Sports",children:"Sports"}),Object(q.jsx)("option",{value:"Fantasy",children:"Fantasy"}),Object(q.jsx)("option",{value:"ARPG",children:"ARPG"})]}))]}),Object(q.jsxs)(g.a,{id:"releasedate",children:[Object(q.jsx)(v.a,{htmlFor:"releasedate",children:"Release date"}),Object(q.jsx)(w.a,Object(l.a)({"data-cy":"date_input",className:"input",type:"date",background:t},o("release_date")))]}),Object(q.jsxs)(g.a,{id:"developer",children:[Object(q.jsx)(v.a,{htmlFor:"developer",children:"Developer"}),Object(q.jsx)(w.a,Object(l.a)({"data-cy":"developer_input",className:"input",type:"text",variant:"filled",placeholder:"developer",background:t},o("developer")))]}),Object(q.jsx)(x.a,{justify:"flex-end",children:Object(q.jsx)(C.a,{"data-cy":"submit_game",colorScheme:"teal",isLoading:n,loadingText:"Submitting...",onClick:u(S),children:"Submit"})})]})})})})]})}var Re=a(209);function qe(){var e=Object(E.h)().pathname;return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(re,{}),Object(q.jsx)(x.a,{align:"center",height:"60vh",justify:"center",children:Object(q.jsxs)(p.a,{children:[Object(q.jsxs)(f.a,{children:["404: Page not found ",":("]}),Object(q.jsxs)(Re.a,{mt:5,colorScheme:"red",fontSize:"1.5em",children:["Page with url ",e," was not found"]})]})})]})}var Me=a(139);function Pe(e){var t=e.children,a=Object(Me.a)(e,["children"]),r=J().isAuthed,c=Object(E.h)().pathname;return Object(q.jsx)(E.b,Object(l.a)(Object(l.a)({},a),{},{children:r?t:Object(q.jsx)(E.a,{from:c,to:"/"})}))}var Ee=a(53),Te=a(69);var Ae=function(){return Object(q.jsx)(W,{children:Object(q.jsx)(Ee.c,{theme:Te.theme,children:Object(q.jsx)(pe,{children:Object(q.jsx)(S.a,{children:Object(q.jsxs)(E.d,{children:[Object(q.jsx)(E.b,{exact:!0,path:"/",component:Y}),Object(q.jsx)(E.b,{path:"/signup",component:K}),Object(q.jsx)(E.b,{path:"/home",component:we}),Object(q.jsx)(Pe,{path:"/favourites",component:ye}),Object(q.jsx)(Pe,{path:"/account",component:Ne}),Object(q.jsx)(E.b,{path:"/addgame",component:Fe}),Object(q.jsx)(E.b,{path:"*",component:qe})]})})})})})},Ie=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,220)).then((function(t){var a=t.getCLS,r=t.getFID,c=t.getFCP,n=t.getLCP,s=t.getTTFB;a(e),r(e),c(e),n(e),s(e)}))},Ge=a(210),De=Object(Ge.a)({config:{initialColorMode:"system",useSystemColorMode:!0}});s.a.render(Object(q.jsx)(c.a.StrictMode,{children:Object(q.jsxs)(i.a,{children:[Object(q.jsx)(o.a,{initialColorMode:De.config.initialColorMode}),Object(q.jsx)(Ae,{})]})}),document.getElementById("root")),Ie()},99:function(e){e.exports=JSON.parse('{"token_key":"auth_token","base_url":"http://localhost:9000/api/"}')}},[[179,1,2]]]);
//# sourceMappingURL=main.dcc7c4cf.chunk.js.map